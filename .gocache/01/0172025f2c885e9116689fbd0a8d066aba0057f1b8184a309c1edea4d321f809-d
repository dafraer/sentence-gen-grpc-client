// Code generated by cmd/cgo; DO NOT EDIT.

//line /Users/kamil/go/pkg/mod/github.com/jeandeaual/go-locale@v0.0.0-20250612000132-0ef82f21eade/locale_darwin_cgo.go:1:1
//go:build darwin && !ios

package locale

// Non-CGO implementation is in locale_darwin_nocgo.go

/*
#cgo CFLAGS: -x objective-c
#cgo LDFLAGS: -framework Foundation

#include <AppKit/AppKit.h>

const char * preferredLocalization();
const char * preferredLocalizations();
*/
import _ "unsafe"
import (
	"strings"
)

// GetLocale retrieves the IETF BCP 47 language tag set on the system.
func GetLocale() (string, error) {
	str := ( /*line :23:9*/_Cfunc_preferredLocalization /*line :23:31*/)()
	if output := ( /*line :24:15*/_Cfunc_GoString /*line :24:24*/)(str); output != "" {
		return strings.Replace(output, "_", "-", 1), nil
	}

	return getLocaleCli()
}

// GetLocales retrieves the IETF BCP 47 language tags set on the system.
func GetLocales() ([]string, error) {
	str := ( /*line :33:9*/_Cfunc_preferredLocalizations /*line :33:32*/)()
	if output := ( /*line :34:15*/_Cfunc_GoString /*line :34:24*/)(str); output != "" {
		r := []string{}
		for _, s := range strings.Split(output, ",") {
			r = append(r, strings.Replace(s, "_", "-", 1))
		}
		return r, nil
	}

	return getLocalesCli()
}
